  System.register([], function($__export) {
  "use strict";
  var console,
      log,
      Test;
  function anotherSpeak() {
    log(("anotherSpeak: age is " + this.age));
  }
  function async(makeGenerator) {
    return function() {
      var generator = makeGenerator.apply(this, arguments);
      function handle(result) {
        if (result.done)
          return Promise.resolve(result.value);
        return Promise.resolve(result.value).then(function(res) {
          return handle(generator.next(res));
        }, function(err) {
          return handle(generator.throw(err));
        });
      }
      try {
        return handle(generator.next());
      } catch (ex) {
        return Promise.reject(ex);
      }
    };
  }
  function wait() {
    var time = arguments[0] !== (void 0) ? arguments[0] : 500;
    return new Promise((resolve) => {
      log(("starting to wait " + time));
      setTimeout(() => {
        log(("just waited " + time + "."));
        resolve();
      }, time);
    });
  }
  return {
    setters: [],
    execute: function() {
      Test = (function() {
        var Test = function Test($window) {
          console = $window.console;
          log = console.log.bind(console);
          log('Test being constructed');
        };
        return ($traceurRuntime.createClass)(Test, {
          speak: function() {
            log('speak method called');
            var up = (str) => str.toUpperCase();
            log(("My " + up('age') + " is " + this.age));
            this.anotherSpeak();
          },
          run: function() {
            this.speak('hey, what up?');
            this.restParameters('one', 'two', 'three');
            this.spread();
            this.forOf();
            this.destructuring();
            this.mapObj();
          },
          testAsync: function() {
            var test = async(function*() {
              var blah = yield wait(1000);
              log("waited in between");
              yield wait(2000);
              log("finally all done!");
            });
            test();
          },
          get wait() {
            return wait;
          },
          mapObj: function() {
            var map = new Map();
            var key,
                value;
            map.set(1, 'jik');
            log(map.has(1));
            map.set(2, 'nyi');
            log(map.get(1));
            log(map.size);
            log('#forOf on map');
            for (var $__2 of map) {
              var k = $__2[0],
                  v = $__2[1],
                  l = $__2[2];
              log(k + ' + ' + v);
            }
            log('map#forEach()');
            map.forEach((value, key, list) => log(value, key, list));
            log('map#values()');
            for (value of map.values()) {
              log(value);
            }
            log('map#entries()');
            for (value of map.entries()) {
              log(value);
            }
            map.delete(1);
            map.forEach((value, key, list) => log(value, key, list));
            map.clear();
            map.forEach((value, key, list) => log(value, key, list));
          },
          destructuring: function() {
            var $__2 = {
              age: 18,
              gender: 'female'
            },
                theirAge = $__2.age,
                gender = $__2.gender;
            log(theirAge);
            log(gender);
            var $__2 = [234.234, 643.234],
                lat = $__2[0],
                lng = $__2[1];
            log(lat);
            log(lng);
            var fnc = function($__2) {
              var $__3 = $__2,
                  lat = $__3.lat,
                  lng = $__3.latitude;
              log('destructuring parameters:');
              log(lat);
              log(lng);
            };
            fnc({
              lat: 45,
              latitude: 25
            });
          },
          forOf: function() {
            log('forOf test:');
            var numbers = ['one', 'two', 'three'];
            for (var number of numbers) {
              log(number);
            }
          },
          spread: function() {
            var parts = ['shoulder', 'knees'];
            var lyrics = $traceurRuntime.spread(['head'], parts, ['and', 'toes']);
            log(lyrics.join(' - '));
          },
          restParameters: function(argOne) {
            for (var args = [],
                $__1 = 1; $__1 < arguments.length; $__1++)
              args[$__1 - 1] = arguments[$__1];
            log(argOne);
            log(Array.isArray(args));
            log(("args.length = " + args.length));
          },
          anotherSpeak: function() {
            return anotherSpeak;
          },
          get age() {
            return 15;
          }
        }, {hello: function() {
            log('helllo');
          }});
      }());
      window.test = new Test(window);
      $__export("Test", Test);
    }
  };
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci8zIiwidGVzdC5qcyIsIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci8yIiwiQHRyYWNldXIvZ2VuZXJhdGVkL1RlbXBsYXRlUGFyc2VyLzEiLCJAdHJhY2V1ci9nZW5lcmF0ZWQvVGVtcGxhdGVQYXJzZXIvNCIsIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci82IiwiQHRyYWNldXIvZ2VuZXJhdGVkL1RlbXBsYXRlUGFyc2VyLzUiLCJAdHJhY2V1ci9nZW5lcmF0ZWQvVGVtcGxhdGVQYXJzZXIvMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFLLFNBQVMsQUFBQyxJQUFvQixVQUFTLFNBQVE7Ozs7O0FDR3BELFNBQVMsYUFBVyxDQUFDLEFBQUMsQ0FBRTtBQUVwQixNQUFFLEFBQUMsRUFBQyx1QkFBdUIsRUFBQyxDQUFBLElBQUcsSUFBSSxFQUFHLENBQUM7RUFDM0M7QUFBQSxBQUNBLFNBQVMsTUFBSSxDQUFFLGFBQVksQ0FBRztBQUMxQixTQUFPLFVBQVMsQUFBQyxDQUFFO0FBQ2YsQUFBSSxRQUFBLENBQUEsU0FBUSxFQUFJLENBQUEsYUFBWSxNQUFNLEFBQUMsQ0FBQyxJQUFHLENBQUcsVUFBUSxDQUFDLENBQUM7QUFFcEQsYUFBUyxPQUFLLENBQUUsTUFBSyxDQUFHO0FBRXBCLFdBQUksTUFBSyxLQUFLO0FBQUcsZUFBTyxDQUFBLE9BQU0sUUFBUSxBQUFDLENBQUMsTUFBSyxNQUFNLENBQUMsQ0FBQztBQUFBLEFBRXJELGFBQU8sQ0FBQSxPQUFNLFFBQVEsQUFBQyxDQUFDLE1BQUssTUFBTSxDQUFDLEtBQUssQUFBQyxDQUFDLFNBQVUsR0FBRSxDQUFHO0FBQ3JELGVBQU8sQ0FBQSxNQUFLLEFBQUMsQ0FBQyxTQUFRLEtBQUssQUFBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdEMsQ0FBRyxVQUFVLEdBQUUsQ0FBRztBQUNkLGVBQU8sQ0FBQSxNQUFLLEFBQUMsQ0FBQyxTQUFRLE1BQU0sQUFBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdkMsQ0FBQyxDQUFDO01BQ047QUFBQSxBQUVBLFFBQUk7QUFDQSxhQUFPLENBQUEsTUFBSyxBQUFDLENBQUMsU0FBUSxLQUFLLEFBQUMsRUFBQyxDQUFDLENBQUM7TUFDbkMsQ0FBRSxPQUFPLEVBQUMsQ0FBRztBQUNULGFBQU8sQ0FBQSxPQUFNLE9BQU8sQUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO01BQzdCO0FBQUEsSUFDSixDQUFDO0VBQ0w7QUFBQSxBQUNBLFNBQVMsS0FBRyxDQUFFLEFBQVMsQ0FBRztNQUFaLEtBQUcsNkNBQUksSUFBRTtBQUNuQixTQUFPLElBQUksUUFBTSxBQUFDLENBQUMsQ0FBQSxPQUFNLElBQUs7QUFDMUIsUUFBRSxBQUFDLEVBQUMsbUJBQW1CLEVBQUMsS0FBRyxFQUFHLENBQUM7QUFDL0IsZUFBUyxBQUFDLENBQUMsQ0FBQSxBQUFDLElBQUs7QUFDYixVQUFFLEFBQUMsRUFBQyxjQUFjLEVBQUMsS0FBRyxFQUFDLElBQUUsRUFBQyxDQUFDO0FBQzNCLGNBQU0sQUFBQyxFQUFDLENBQUM7TUFDYixDQUFHLEtBQUcsQ0FBQyxDQUFDO0lBQ1osQ0FBQyxDQUFDO0VBQ047QUNyQ0EsQURxQ0EsT0NyQ087QUFDRCxVQUFNLElBQW1CO0FBQ3pCLFVBQU07QUNGWixhQ0FBLFNBQVEsQUFBQztBQUNDLEFBQUksVUFBQSxPSHFDZCxTQUFNLEtBQUcsQ0FDTyxPQUFNLENBQUc7QUFDakIsZ0JBQU0sRUFBSSxDQUFBLE9BQU0sUUFBUSxDQUFDO0FBQ3pCLFlBQUUsRUFBSSxDQUFBLE9BQU0sSUFBSSxLQUFLLEFBQUMsQ0FBQyxPQUFNLENBQUMsQ0FBQztBQUMvQixZQUFFLEFBQUMsQ0FBQyx3QkFBdUIsQ0FBQyxDQUFDO1FHekNhLEFIMEM5QyxDRzFDK0M7QUFDekMsYUFBTyxDQUFBLENBQUMsZUFBYyxZQUFZLENBQUMsQUFBQztBSDBDMUMsY0FBSSxDQUFKLFVBQU0sQUFBMEIsQ0FBRztBQUMvQixjQUFFLEFBQUMsQ0FBQyxxQkFBb0IsQ0FBQyxDQUFDO0FBQzFCLEFBQUksY0FBQSxDQUFBLEVBQUMsRUFBSSxFQUFBLEdBQUUsSUFBSyxDQUFBLEdBQUUsWUFBWSxBQUFDLEVBQUMsQ0FBQztBQUVqQyxjQUFFLEFBQUMsRUFBQyxLQUFLLEVBQUMsQ0FBQSxFQUFDLEFBQUMsQ0FBQyxLQUFJLENBQUMsQ0FBQSxDQUFDLE9BQU0sRUFBQyxDQUFBLElBQUcsSUFBSSxFQUFHLENBQUM7QUFDckMsZUFBRyxhQUFhLEFBQUMsRUFBQyxDQUFDO1VBQ3ZCO0FBQ0EsWUFBRSxDQUFGLFVBQUcsQUFBQyxDQUFFO0FBQ0YsZUFBRyxNQUFNLEFBQUMsQ0FBQyxlQUFjLENBQUMsQ0FBQztBQUMzQixlQUFHLGVBQWUsQUFBQyxDQUFDLEtBQUksQ0FBRyxNQUFJLENBQUcsUUFBTSxDQUFDLENBQUM7QUFDMUMsZUFBRyxPQUFPLEFBQUMsRUFBQyxDQUFDO0FBQ2IsZUFBRyxNQUFNLEFBQUMsRUFBQyxDQUFDO0FBQ1osZUFBRyxjQUFjLEFBQUMsRUFBQyxDQUFDO0FBQ3BCLGVBQUcsT0FBTyxBQUFDLEVBQUMsQ0FBQztVQUNqQjtBQUNBLGtCQUFRLENBQVIsVUFBUyxBQUFDLENBQUU7QUFDUixBQUFJLGNBQUEsQ0FBQSxJQUFHLEVBQUksQ0FBQSxLQUFJLEFBQUMsQ0FBRSxVQUFVLEFBQUMsQ0FBRTtBQUMzQixBQUFJLGdCQUFBLENBQUEsSUFBRyxFQUFJLE1BQU0sQ0FBQSxJQUFHLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQztBQUMzQixnQkFBRSxBQUFDLENBQUMsbUJBQWtCLENBQUMsQ0FBQztBQUN4QixrQkFBTSxDQUFBLElBQUcsQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ2hCLGdCQUFFLEFBQUMsQ0FBQyxtQkFBa0IsQ0FBQyxDQUFDO1lBQzVCLENBQUMsQ0FBQztBQUVGLGVBQUcsQUFBQyxFQUFDLENBQUM7VUFDVjtBQUNBLFlBQUksS0FBRyxFQUFJO0FBRVAsaUJBQU8sS0FBRyxDQUFDO1VBQ2Y7QUFDQSxlQUFLLENBQUwsVUFBTSxBQUFDO0FBSUgsQUFBSSxjQUFBLENBQUEsR0FBRSxFQUFJLElBQUksSUFBRSxBQUFDLEVBQUMsQ0FBQztBQUNuQixBQUFJLGNBQUEsQ0FBQSxHQUFFO0FBQUcsb0JBQUksQ0FBQztBQUVkLGNBQUUsSUFBSSxBQUFDLENBQUMsQ0FBQSxDQUFHLE1BQUksQ0FBQyxDQUFDO0FBQ2pCLGNBQUUsQUFBQyxDQUFDLEdBQUUsSUFBSSxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQztBQUNmLGNBQUUsSUFBSSxBQUFDLENBQUMsQ0FBQSxDQUFHLE1BQUksQ0FBQyxDQUFDO0FBQ2pCLGNBQUUsQUFBQyxDQUFDLEdBQUUsSUFBSSxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQztBQUNmLGNBQUUsQUFBQyxDQUFDLEdBQUUsS0FBSyxDQUFDLENBQUM7QUFFYixjQUFFLEFBQUMsQ0FBQyxlQUFjLENBQUMsQ0FBQztBQUNwQiwyQkFBc0IsSUFBRTtnQkFBZCxFQUFBO0FBQUcsa0JBQUE7QUFBRyxrQkFBQTtBQUNkLGdCQUFFLEFBQUMsQ0FBQyxDQUFBLEVBQUksTUFBSSxDQUFBLENBQUksRUFBQSxDQUFDLENBQUM7WUFDcEI7QUFFQSxjQUFFLEFBQUMsQ0FBQyxlQUFjLENBQUMsQ0FBQztBQUNwQixjQUFFLFFBQVEsQUFBQyxDQUFDLENBQUMsS0FBSSxDQUFHLENBQUEsR0FBRSxDQUFHLENBQUEsSUFBRyxJQUFNLENBQUEsR0FBRSxBQUFDLENBQUMsS0FBSSxDQUFHLElBQUUsQ0FBRyxLQUFHLENBQUMsQ0FBQyxDQUFDO0FBRXhELGNBQUUsQUFBQyxDQUFDLGNBQWEsQ0FBQyxDQUFDO0FBQ25CLGdCQUFJLEtBQUksR0FBSyxDQUFBLEdBQUUsT0FBTyxBQUFDLEVBQUMsQ0FBRztBQUN2QixnQkFBRSxBQUFDLENBQUMsS0FBSSxDQUFDLENBQUM7WUFDZDtBQUFBLEFBRUEsY0FBRSxBQUFDLENBQUMsZUFBYyxDQUFDLENBQUM7QUFDcEIsZ0JBQUksS0FBSSxHQUFLLENBQUEsR0FBRSxRQUFRLEFBQUMsRUFBQyxDQUFHO0FBQ3hCLGdCQUFFLEFBQUMsQ0FBQyxLQUFJLENBQUMsQ0FBQztZQUNkO0FBQUEsQUFFQSxjQUFFLE9BQU8sQUFBQyxDQUFDLENBQUEsQ0FBQyxDQUFDO0FBQ2IsY0FBRSxRQUFRLEFBQUMsQ0FBQyxDQUFDLEtBQUksQ0FBRyxDQUFBLEdBQUUsQ0FBRyxDQUFBLElBQUcsSUFBTSxDQUFBLEdBQUUsQUFBQyxDQUFDLEtBQUksQ0FBRyxJQUFFLENBQUcsS0FBRyxDQUFDLENBQUMsQ0FBQztBQUN4RCxjQUFFLE1BQU0sQUFBQyxFQUFDLENBQUM7QUFDWCxjQUFFLFFBQVEsQUFBQyxDQUFDLENBQUMsS0FBSSxDQUFHLENBQUEsR0FBRSxDQUFHLENBQUEsSUFBRyxJQUFNLENBQUEsR0FBRSxBQUFDLENBQUMsS0FBSSxDQUFHLElBQUUsQ0FBRyxLQUFHLENBQUMsQ0FBQyxDQUFDO1VBQzVEO0FBQ0Esc0JBQVksQ0FBWixVQUFhLEFBQUM7QUFDVixxQkFBOEI7QUFDMUIsZ0JBQUUsQ0FBRyxHQUFDO0FBQ04sbUJBQUssQ0FBRyxTQUFPO0FBQUEsWUFDbkI7QUFIVSx1QkFBTztBQUFHLHFCQUFLLGVBR3hCO0FBQ0QsY0FBRSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFDYixjQUFFLEFBQUMsQ0FBQyxNQUFLLENBQUMsQ0FBQztBQUVYLHFCQUFpQixFQUFDLE9BQU0sQ0FBRyxRQUFNLENBQUM7QUFBN0Isa0JBQUU7QUFBRyxrQkFBRSxXQUF1QjtBQUNuQyxjQUFFLEFBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQztBQUNSLGNBQUUsQUFBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDO0FBRVIsQUFBSSxjQUFBLENBQUEsR0FBRSxFQUFJLFVBQVMsSUFBa0I7O0FBQWpCLG9CQUFFO0FBQVksb0JBQUU7QUFDaEMsZ0JBQUUsQUFBQyxDQUFDLDJCQUEwQixDQUFDLENBQUM7QUFDaEMsZ0JBQUUsQUFBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDO0FBQ1IsZ0JBQUUsQUFBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDO1lBQ1osQ0FBQztBQUNELGNBQUUsQUFBQyxDQUFDO0FBQUMsZ0JBQUUsQ0FBRyxHQUFDO0FBQUcscUJBQU8sQ0FBRyxHQUFDO0FBQUEsWUFBQyxDQUFDLENBQUM7VUFDaEM7QUFDQSxjQUFJLENBQUosVUFBSyxBQUFDLENBQUU7QUFDSixjQUFFLEFBQUMsQ0FBQyxhQUFZLENBQUMsQ0FBQztBQUNsQixBQUFJLGNBQUEsQ0FBQSxPQUFNLEVBQUksRUFBQyxLQUFJLENBQUUsTUFBSSxDQUFFLFFBQU0sQ0FBQyxDQUFDO0FBQ25DLGdCQUFTLEdBQUEsQ0FBQSxNQUFLLENBQUEsRUFBSyxRQUFNLENBQUc7QUFDeEIsZ0JBQUUsQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO1lBQ2Y7QUFBQSxVQUNKO0FBQ0EsZUFBSyxDQUFMLFVBQU0sQUFBQztBQUNILEFBQUksY0FBQSxDQUFBLEtBQUksRUFBSSxFQUFDLFVBQVMsQ0FBRyxRQUFNLENBQUMsQ0FBQztBQUNqQyxBQUFJLGNBQUEsQ0FBQSxNQUFLLEVJeklqQixDQUFBLGVBQWMsT0FBTyxFSnlJQyxNQUFLLEVBQU0sTUFBSSxHQUFHLEtBQUksQ0FBRyxPQUFLLEVJeklaLEFKeUlhLENBQUM7QUFDOUMsY0FBRSxBQUFDLENBQUMsTUFBSyxLQUFLLEFBQUMsQ0FBQyxLQUFJLENBQUMsQ0FBQyxDQUFDO1VBQzNCO0FBQ0EsdUJBQWEsQ0FBYixVQUFlLE1BQUssQUFBUyxDQUFHO0FLM0l4QixnQkFBUyxHQUFBLE9BQW9CLEdBQUM7QUFBRyx1QkFBb0MsQ0FDaEUsT0FBb0IsQ0FBQSxTQUFRLE9BQU8sQ0FBRyxPQUFrQjtBQUMzRCxrQkFBa0IsUUFBb0MsQ0FBQyxFQUFJLENBQUEsU0FBUSxNQUFtQixDQUFDO0FBQUEsQUwwSTdGLGNBQUUsQUFBQyxDQUFDLE1BQUssQ0FBQyxDQUFDO0FBQ1gsY0FBRSxBQUFDLENBQUMsS0FBSSxRQUFRLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ3hCLGNBQUUsQUFBQyxFQUFDLGdCQUFnQixFQUFDLENBQUEsSUFBRyxPQUFPLEVBQUcsQ0FBQztVQUN2QztBQUNBLHFCQUFXLENBQVgsVUFBWSxBQUFDLENBQUU7QUFDWCxpQkFBTyxhQUFXLENBQUM7VUFDdkI7QUFDQSxZQUFJLElBQUUsRUFBSTtBQUNOLGlCQUFPLEdBQUMsQ0FBQztVQUNiO0FBQUEsV0FDTyxLQUFJLENBQVgsVUFBWSxBQUFDLENBQUU7QUFFWCxjQUFFLEFBQUMsQ0FBQyxRQUFPLENBQUMsQ0FBQztVQUNqQixFR3ZKNEQsQ0FBQztNQUN6RCxBQUFDLEVBQUMsQ0RKMEIsQ0FBQTtBRjZKcEMsV0FBSyxLQUFLLEVBQUksSUFBSSxLQUFHLEFBQUMsQ0FBQyxNQUFLLENBQUMsQ0FBQztBTTdKOUIsQU4rSk8sY00vSkMsQUFBQyxjQUFxQyxBTitKbEMsQ0FBQTtJQzdKbUI7RUFDM0IsQ0FBQTtBRkRJLENBQUMsQ0FBQztBQzZKRyIsImZpbGUiOiJ0ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiU3lzdGVtLnJlZ2lzdGVyKCRfX3BsYWNlaG9sZGVyX18wLCBmdW5jdGlvbigkX19leHBvcnQpIHtcbiAgICAgICAgICAkX19wbGFjZWhvbGRlcl9fMVxuICAgICAgICB9KTsiLCIvKiBnbG9iYWwgd2luZG93ICovXG52YXIgY29uc29sZSwgbG9nO1xuXG5mdW5jdGlvbiBhbm90aGVyU3BlYWsoKSB7XG5cbiAgICBsb2coYGFub3RoZXJTcGVhazogYWdlIGlzICR7dGhpcy5hZ2V9YCk7XG59XG5mdW5jdGlvbiBhc3luYyhtYWtlR2VuZXJhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdlbmVyYXRvciA9IG1ha2VHZW5lcmF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgICBmdW5jdGlvbiBoYW5kbGUocmVzdWx0KSB7XG4gICAgICAgICAgICAvLyByZXN1bHQgPT4geyBkb25lOiBbQm9vbGVhbl0sIHZhbHVlOiBbT2JqZWN0XSB9XG4gICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0LnZhbHVlKTtcblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQudmFsdWUpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZ2VuZXJhdG9yLm5leHQocmVzKSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShnZW5lcmF0b3IudGhyb3coZXJyKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlKGdlbmVyYXRvci5uZXh0KCkpO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGV4KTtcbiAgICAgICAgfVxuICAgIH07ICBcbn1cbmZ1bmN0aW9uIHdhaXQodGltZSA9IDUwMCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgbG9nKGBzdGFydGluZyB0byB3YWl0ICR7dGltZX1gKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBsb2coYGp1c3Qgd2FpdGVkICR7dGltZX0uYCk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0sIHRpbWUpO1xuICAgIH0pO1xufVxuY2xhc3MgVGVzdCB7XG4gICAgY29uc3RydWN0b3IoJHdpbmRvdykge1xuICAgICAgICBjb25zb2xlID0gJHdpbmRvdy5jb25zb2xlO1xuICAgICAgICBsb2cgPSBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO1xuICAgICAgICBsb2coJ1Rlc3QgYmVpbmcgY29uc3RydWN0ZWQnKTtcbiAgICB9XG4gICAgc3BlYWsobWVzc2FnZSA9ICdkZWZhdWx0IG1lc3NhZ2UnKSB7XG4gICAgICAgIGxvZygnc3BlYWsgbWV0aG9kIGNhbGxlZCcpO1xuICAgICAgICB2YXIgdXAgPSBzdHIgPT4gc3RyLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgbG9nKGBNeSAke3VwKCdhZ2UnKX0gaXMgJHt0aGlzLmFnZX1gKTtcbiAgICAgICAgdGhpcy5hbm90aGVyU3BlYWsoKTtcbiAgICB9XG4gICAgcnVuKCkge1xuICAgICAgICB0aGlzLnNwZWFrKCdoZXksIHdoYXQgdXA/Jyk7IFxuICAgICAgICB0aGlzLnJlc3RQYXJhbWV0ZXJzKCdvbmUnLCAndHdvJywgJ3RocmVlJyk7XG4gICAgICAgIHRoaXMuc3ByZWFkKCk7XG4gICAgICAgIHRoaXMuZm9yT2YoKTtcbiAgICAgICAgdGhpcy5kZXN0cnVjdHVyaW5nKCk7XG4gICAgICAgIHRoaXMubWFwT2JqKCk7XG4gICAgfVxuICAgIHRlc3RBc3luYygpIHtcbiAgICAgICAgdmFyIHRlc3QgPSBhc3luYyggZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBibGFoID0geWllbGQgd2FpdCgxMDAwKTtcbiAgICAgICAgICAgIGxvZyhgd2FpdGVkIGluIGJldHdlZW5gKTtcbiAgICAgICAgICAgIHlpZWxkIHdhaXQoMjAwMCk7XG4gICAgICAgICAgICBsb2coYGZpbmFsbHkgYWxsIGRvbmUhYCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRlc3QoKTtcbiAgICB9XG4gICAgZ2V0IHdhaXQoKSB7XG5cbiAgICAgICAgcmV0dXJuIHdhaXQ7XG4gICAgfVxuICAgIG1hcE9iaigpIHtcbiAgICAgICAgLy8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL1xuICAgICAgICAvLyBkb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXBcbiAgICAgICAgXG4gICAgICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHZhciBrZXksIHZhbHVlO1xuXG4gICAgICAgIG1hcC5zZXQoMSwgJ2ppaycpO1xuICAgICAgICBsb2cobWFwLmhhcygxKSk7XG4gICAgICAgIG1hcC5zZXQoMiwgJ255aScpO1xuICAgICAgICBsb2cobWFwLmdldCgxKSk7XG4gICAgICAgIGxvZyhtYXAuc2l6ZSk7XG5cbiAgICAgICAgbG9nKCcjZm9yT2Ygb24gbWFwJyk7XG4gICAgICAgIGZvciAodmFyIFtrLCB2LCBsXSBvZiBtYXApIHtcbiAgICAgICAgICBsb2coayArICcgKyAnICsgdik7XG4gICAgICAgIH1cblxuICAgICAgICBsb2coJ21hcCNmb3JFYWNoKCknKTtcbiAgICAgICAgbWFwLmZvckVhY2goKHZhbHVlLCBrZXksIGxpc3QpID0+IGxvZyh2YWx1ZSwga2V5LCBsaXN0KSk7XG5cbiAgICAgICAgbG9nKCdtYXAjdmFsdWVzKCknKTtcbiAgICAgICAgZm9yKHZhbHVlIG9mIG1hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgbG9nKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZygnbWFwI2VudHJpZXMoKScpO1xuICAgICAgICBmb3IodmFsdWUgb2YgbWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgbG9nKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC5kZWxldGUoMSk7XG4gICAgICAgIG1hcC5mb3JFYWNoKCh2YWx1ZSwga2V5LCBsaXN0KSA9PiBsb2codmFsdWUsIGtleSwgbGlzdCkpO1xuICAgICAgICBtYXAuY2xlYXIoKTtcbiAgICAgICAgbWFwLmZvckVhY2goKHZhbHVlLCBrZXksIGxpc3QpID0+IGxvZyh2YWx1ZSwga2V5LCBsaXN0KSk7XG4gICAgfVxuICAgIGRlc3RydWN0dXJpbmcoKSB7XG4gICAgICAgIHZhciB7YWdlOiB0aGVpckFnZSwgZ2VuZGVyfSA9IHtcbiAgICAgICAgICAgIGFnZTogMTgsXG4gICAgICAgICAgICBnZW5kZXI6ICdmZW1hbGUnLFxuICAgICAgICB9O1xuICAgICAgICBsb2codGhlaXJBZ2UpO1xuICAgICAgICBsb2coZ2VuZGVyKTtcblxuICAgICAgICB2YXIgW2xhdCwgbG5nXSA9IFsyMzQuMjM0LCA2NDMuMjM0XTtcbiAgICAgICAgbG9nKGxhdCk7XG4gICAgICAgIGxvZyhsbmcpO1xuXG4gICAgICAgIHZhciBmbmMgPSBmdW5jdGlvbih7bGF0LCBsYXRpdHVkZTpsbmd9KSB7XG4gICAgICAgICAgICBsb2coJ2Rlc3RydWN0dXJpbmcgcGFyYW1ldGVyczonKTtcbiAgICAgICAgICAgIGxvZyhsYXQpO1xuICAgICAgICAgICAgbG9nKGxuZyk7XG4gICAgICAgIH07XG4gICAgICAgIGZuYyh7bGF0OiA0NSwgbGF0aXR1ZGU6IDI1fSk7XG4gICAgfVxuICAgIGZvck9mKCkge1xuICAgICAgICBsb2coJ2Zvck9mIHRlc3Q6Jyk7XG4gICAgICAgIHZhciBudW1iZXJzID0gWydvbmUnLCd0d28nLCd0aHJlZSddO1xuICAgICAgICBmb3IgKHZhciBudW1iZXIgb2YgbnVtYmVycykge1xuICAgICAgICAgICAgbG9nKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3ByZWFkKCkge1xuICAgICAgICB2YXIgcGFydHMgPSBbJ3Nob3VsZGVyJywgJ2tuZWVzJ107XG4gICAgICAgIHZhciBseXJpY3MgPSBbJ2hlYWQnLCAuLi5wYXJ0cywgJ2FuZCcsICd0b2VzJ107XG4gICAgICAgIGxvZyhseXJpY3Muam9pbignIC0gJykpO1xuICAgIH1cbiAgICByZXN0UGFyYW1ldGVycyhhcmdPbmUsIC4uLmFyZ3MpIHtcbiAgICAgICAgbG9nKGFyZ09uZSk7XG4gICAgICAgIGxvZyhBcnJheS5pc0FycmF5KGFyZ3MpKTtcbiAgICAgICAgbG9nKGBhcmdzLmxlbmd0aCA9ICR7YXJncy5sZW5ndGh9YCk7XG4gICAgfVxuICAgIGFub3RoZXJTcGVhaygpIHtcbiAgICAgICAgcmV0dXJuIGFub3RoZXJTcGVhaztcbiAgICB9XG4gICAgZ2V0IGFnZSgpIHtcbiAgICAgICAgcmV0dXJuIDE1O1xuICAgIH1cbiAgICBzdGF0aWMgaGVsbG8oKSB7XG4gIFxuICAgICAgICBsb2coJ2hlbGxsbycpO1xuICAgIH1cbn1cblxud2luZG93LnRlc3QgPSBuZXcgVGVzdCh3aW5kb3cpO1xuXG5leHBvcnQge1Rlc3R9OyIsInJldHVybiB7XG4gICAgICBzZXR0ZXJzOiAkX19wbGFjZWhvbGRlcl9fMCxcbiAgICAgIGV4ZWN1dGU6ICRfX3BsYWNlaG9sZGVyX18xXG4gICAgfSIsIiRfX3BsYWNlaG9sZGVyX18wID0gJF9fcGxhY2Vob2xkZXJfXzEiLCJmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgJF9fcGxhY2Vob2xkZXJfXzAgPSAkX19wbGFjZWhvbGRlcl9fMTtcbiAgICAgICAgICByZXR1cm4gKCR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcykoJF9fcGxhY2Vob2xkZXJfXzIsICRfX3BsYWNlaG9sZGVyX18zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkX19wbGFjZWhvbGRlcl9fNCk7XG4gICAgICAgIH0oKSIsIiR0cmFjZXVyUnVudGltZS5zcHJlYWQoJF9fcGxhY2Vob2xkZXJfXzApIiwiXG4gICAgICAgICAgICBmb3IgKHZhciAkX19wbGFjZWhvbGRlcl9fMCA9IFtdLCAkX19wbGFjZWhvbGRlcl9fMSA9ICRfX3BsYWNlaG9sZGVyX18yO1xuICAgICAgICAgICAgICAgICAkX19wbGFjZWhvbGRlcl9fMyA8IGFyZ3VtZW50cy5sZW5ndGg7ICRfX3BsYWNlaG9sZGVyX180KyspXG4gICAgICAgICAgICAgICRfX3BsYWNlaG9sZGVyX181WyRfX3BsYWNlaG9sZGVyX182IC0gJF9fcGxhY2Vob2xkZXJfXzddID0gYXJndW1lbnRzWyRfX3BsYWNlaG9sZGVyX184XTsiLCIkX19leHBvcnQoJF9fcGxhY2Vob2xkZXJfXzAsICRfX3BsYWNlaG9sZGVyX18xKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=